<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Online chat</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
		<link href="/img/chat_logo.png" rel="icon" type="image/gif"/>
		<link href="/css/style.css" rel="stylesheet"/>
	</head>
	<body ng-app="chatApp">
		<div id="container" ng-controller="ChatController">
			<div class="chat_header">Online chat 
				<span own-name ng-click="toggleForm()"></span>
				<form id="name_attempt" ng-show="isFormOpen" ng-submit="changeName(newName)">
					<label>New name: <input ng-model="newName"/></label>
					<br/><button>Submit</button>
					<span class="error" ng-bind="error"></span>
				</form>
			</div>
			<div class="msg_box" scroll-bottom="messages">
				<p ng-repeat="message in messages">
					<span nick-name></span><message-text></message-text></p>
			</div>
			<div class="send_box">
				<textarea rows="3" placeholder="Введите сообщение" ng-model="currentMessage" 
					ng-trim="false" ng-keypress="$event.keyCode === 13 && send($event)">
				</textarea>
				<br/><button ng-click="send()">Send</button>
			</div>
		</div>
		<script src="/socket.io/socket.io.js"></script>
		<script src="/script/chat.js"></script>
		<script src="/script/chat_ui.js"></script>
	</body>
</html>